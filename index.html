<!DOCTYPE html>
<html lang="hu">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Termékek és Fizetés</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            background-color: #121212;
            color: white;
            text-align: center;
            padding: 20px;
        }
        h1 {
            color: #4CAF50;
        }
        input, button {
            padding: 10px;
            margin: 10px;
            border-radius: 5px;
            border: 1px solid #4CAF50;
            background-color: #333;
            color: white;
        }
        input[type="text"] {
            width: 250px;
        }
        #products {
            margin-top: 20px;
        }
        .product {
            margin: 10px;
            padding: 10px;
            background-color: #333;
            border-radius: 5px;
        }
        #payment-section {
            margin-top: 20px;
        }
        #employee-login {
            margin-top: 20px;
        }
    </style>
</head>
<body>
    <h1>Üdvözöljük a boltban!</h1>
    <label for="code">Kérjük, írja be a fizetési kódot:</label>
    <input type="text" id="payment-code" placeholder="Fizetési kód (pl. 87453215489757777)">
    <button onclick="getProducts()">Termékek megjelenítése</button>
    
    <div id="products"></div>

    <div id="payment-section" style="display:none;">
        <button onclick="makePayment()">Fizetés</button>
    </div>

    <div id="employee-login" style="display:none;">
        <h2>Dolgozó bejelentkezés</h2>
        <input type="text" id="employee-code" placeholder="Beolvasott kód">
        <button onclick="loginEmployee()">Dolgozói bejelentkezés</button>
    </div>

    <script>
        const products = {
            "DT3450": { name: "DōTERRA™", price: 3450 },
            "SL6000": { name: "Smack leves", price: 6000 },
            "AMM35000": { name: "Apple Magic Mouse", price: 35000 },
            "MB3500": { name: "Moon Ball", price: 3500 },
            "S200": { name: "Szatyor", price: 200 }
        };

        const validPaymentCode = "87453215489757777"; // A kód, amit az app ad

        const employeeCode = "98754367896544432"; // Dolgozói kód

        function getProducts() {
            const code = document.getElementById('payment-code').value;
            const productList = [];

            // Ellenőrizzük, hogy a fizetési kód érvényes-e
            if (code === validPaymentCode) {
                for (let key in products) {
                    productList.push(products[key]);
                }

                displayProducts(productList);
            } else {
                alert("Érvénytelen fizetési kód!");
            }
        }

        function displayProducts(products) {
            const productsDiv = document.getElementById('products');
            productsDiv.innerHTML = '';

            if (products.length === 0) {
                productsDiv.innerHTML = 'Nincs elérhető termék!';
                return;
            }

            products.forEach(product => {
                const productDiv = document.createElement('div');
                productDiv.classList.add('product');
                productDiv.innerHTML = `<strong>${product.name}</strong><br>${product.price} Ft`;
                productsDiv.appendChild(productDiv);
            });

            // Ha van "Apple Magic Mouse", kérjük a dolgozó bejelentkezését
            if (products.some(product => product.name === "Apple Magic Mouse")) {
                document.getElementById('employee-login').style.display = 'block';
            } else {
                document.getElementById('payment-section').style.display = 'block';
            }
        }

        function makePayment() {
            alert('A fizetés folyamatban!');
            // Fizetési logika itt...
        }

        function loginEmployee() {
            const enteredCode = document.getElementById('employee-code').value;
            if (enteredCode === employeeCode) {
                alert('Dolgozó bejelentkezett!');
                document.getElementById('payment-section').style.display = 'block';
                document.getElementById('employee-login').style.display = 'none';
            } else {
                alert('Hibás kód!');
            }
        }
    </script>
</body>
</html>
